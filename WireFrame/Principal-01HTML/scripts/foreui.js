window.foreui||(window.foreui={});window.foreui.behaviors={};var Button=function(a,b){this._id=a;this._params=b;this._obj=$("#"+a);this.init()};
Button.prototype={init:function(){var a=this._params;this._text=this._obj.html();this._obj.empty();this._bg=$('<div class="bg"></div>').appendTo(this._obj);this._bd=$('<div class="bd"></div>').appendTo(this._obj);a=createLabelObject(a.icon,a.icon_p,a.gap,this._text);this._fg=$('<table class="fg" cellspacing="0" cellpadding="0"><tr><td style="white-space:nowrap">'+a.html()+"</td></tr></table>").appendTo(this._obj);this._fg.add(this._fg.find("tr")).add(this._fg.find("td")).css("background-image","url('styles/empty.gif')");
this.setupBehavior(this._obj);initReferences(this);var b=this;setTimeout(function(){setState(b,b._params.state,!0)},0)},updateUI:function(a){var b=this._params,c=b.state,d=a.children(".bg"),e=a.children(".bd"),f=a.children(".fg"),g=a.width(),a=a.height();e.css("border-width","0px").width(g).height(a);generateBackgroundAndBorders(c,"",d,e,b);e=getTextSize(this._text,b["f_n_"+c],b["f_s_"+c]).width;e=2>b.icon_p?e+(b.icon?f.find(".icon").width()+b.gap:0):Math.max(e,f.find(".icon").width());d=b["txt_a_"+
c];e=Math.min(b.margin,(g-e)/2-b["bdw_"+c]);f.width(g).height(a).css({"text-align":d,"padding-left":e,"padding-right":e,cursor:64==c||96==c?"default":"pointer"});applyFontParameters(c,"",f.find("td"),b)},setupBehavior:function(a){var b=this;a.mouseenter(function(){setState(b,16)}).mouseleave(function(){setState(b,0)}).mousedown(function(){setState(b,32)}).mouseup(function(){setState(b,0)})}};var getPostfixForState=function(a){return 0==a?"__Normal":16==a?"__Hovering":32==a?"__Selected":64==a?"__Disabled":48==a?"__Selected_Hovering":96==a?"__Selected_Disabled":""},createCanvas=function(a,b){if("undefined"==typeof G_vmlCanvasManager)return $('<canvas width="'+a+'" height="'+b+'"></canvas>').get(0);var c=document.createElement("canvas");c.setAttribute("width",a);c.setAttribute("height",b);G_vmlCanvasManager.initElement(c);return c},drawSwingLine=function(a,b,c,d,e,f){f?a.lineTo(b.x,b.y):
a.moveTo(b.x,b.y);var g=Math.round(Math.sqrt(Math.pow(b.x-c.x,2)+Math.pow(b.y-c.y,2)));if(0<d&&0<e&&0<g){for(var f=Math.floor(e/2),h=(c.x-b.x)/g,j=(c.y-b.y)/g,i=0,k=0,g=Math.floor(g/d),i=0,l=1,n=[0,1],m=2;m<g;m++)n[m]=n[m-1]+n[m-2];for(m=1;m<g;m++)i=m*n[m-1]%n[m]%e-f,k=n[m-1]%e-f,l=Math.abs(k-l)>f?1:k,k=m*d,i=b.x+Math.round(h*k)+i,k=b.y+Math.round(j*k)+l,a.lineTo(i,k)}a.lineTo(c.x,c.y);a.stroke()},drawSwingBorder=function(a,b,c,d,e,f,g,h,j,i,k,l,n,m,q){var o=f/2,u=g/2,t=h/2,s=j/2,r=Math.min(d-s-u,
e-o-t)/2,i=Math.min(i,r),k=Math.min(k,r),l=Math.min(l,r),n=Math.min(n,r),r=o+i,v=o+k,w=u+l,x=t+l,z=s+n,A=t+n,p=b+(s+i),o=c+o,y=b+d-(s+k)-1;0<f&&(a.lineWidth=f,a.beginPath(),drawSwingLine(a,{x:p,y:o},{x:y,y:o},m,q));p=y;if(0<k&&(0<f||0<g))a.arc(p,o+k,k,1.5*Math.PI,2*Math.PI,!1),a.stroke();p=b+d-u-1;o=c+v;nextY=c+e-x-1;0<g&&(a.lineWidth=g,a.beginPath(),drawSwingLine(a,{x:p,y:o},{x:p,y:nextY},m,q));o=nextY;if(0<l&&(0<h||0<g))a.arc(p-l,o,l,0,0.5*Math.PI,!1),a.stroke();p=b+d-1-w;o=c+e-t-1;y=b+z;0<h&&(a.lineWidth=
h,a.beginPath(),drawSwingLine(a,{x:p,y:o},{x:y,y:o},m,q));p=y;if(0<n&&(0<h||0<j))a.arc(p,o-n,n,0.5*Math.PI,Math.PI,!1),a.stroke();p=b+s;o=c+e-1-A;nextY=c+r;0<j&&(a.lineWidth=j,a.beginPath(),drawSwingLine(a,{x:p,y:o},{x:p,y:nextY},m,q));o=nextY;if(0<i&&(0<f||0<j))a.arc(p+i,o,i,Math.PI,1.5*Math.PI,!1),a.stroke()},fillAndStrokeOnCanvas=function(a,b,c,d,e,f){if(!e){if(d["bg_"+d.state].colors){for(var e=d["bg_"+d.state],g=e.bkRegion,b=a.createLinearGradient(e.startX*b/g.width,e.startY*c/g.height,e.endX*
b/g.width,e.endY*c/g.height),c=e.fractions,e=e.colors,g=0;g<c.length;g++)b.addColorStop(c[g],e[g]);a.fillStyle=b}else a.fillStyle=d["bg_"+d.state];a.fill()}!f&&d["bd_paint_"+d.state]&&(a.lineWidth=d["bdw_"+d.state],a.strokeStyle=d["bdc_"+d.state],a.stroke())},drawEllipse=function(a,b,c,d,e){var f=0.5522848*(d/2),g=0.5522848*(e/2),h=b+d,j=c+e,d=b+d/2,e=c+e/2;a.beginPath();a.moveTo(b,e);a.bezierCurveTo(b,e-g,d-f,c,d,c);a.bezierCurveTo(d+f,c,h,e-g,h,e);a.bezierCurveTo(h,e+g,d+f,j,d,j);a.bezierCurveTo(d-
f,j,b,e+g,b,e);a.closePath()},getTextSize=function(a,b,c,d){var e=!1;if(!a||""==a)e=!0,a="H";a=$('<span style="position:absolute; z-index:-1">'+a+"</span>").appendTo("body");b&&a.css("font-family",b);c&&a.css("font-size",c);d&&a.css("font-weight","bold");b=a.get(0);e=e?0:b.clientWidth;b=b.clientHeight;a.remove();return{width:e,height:b}},getScrollBarSize=function(){var a=$('<p style="width:100%;height:200px;"></p>'),b=$('<div style="position:absolute;top:0px;left:0px;visibility:hidden;width:200px;height:150px;overflow:hidden"></div>').append(a).appendTo("body"),
c=a.get(0).offsetWidth;b.css("overflow","scroll");a=a.get(0).offsetWidth;c==a&&(a=b.get(0).clientWidth);b.remove();return c-a},rotateRectangle=function(a){var b=a.x;a.x=a.y;a.y=b;b=a.width;a.width=a.height;a.height=b},changeBackground=function(a,b,c,d,e,f,g){e||(e=d[b+"bg_"+a]);if(0==e.indexOf("#")||"transparent"==e||0==e.indexOf("rgba("))c.css("background-color",e);else{var f=f?f:c.innerWidth(),g=g?g:c.innerHeight(),e=$('<img class="linearBg" src="images/'+e+'" width="'+f+'" height="'+g+'" align="top" />'),
g=d[b+"bdr_tl_"+a],f=d[b+"bdr_tr_"+a],h=d[b+"bdr_br_"+a],a=d[b+"bdr_bl_"+a];e.css({"-moz-border-radius-topleft":g+"px","-webkit-border-top-left-radius":g+"px","border-top-left-radius":g+"px","-moz-border-radius-topright":f+"px","-webkit-border-top-right-radius":f+"px","border-top-right-radius":f+"px","-moz-border-radius-bottomleft":a+"px","-webkit-border-bottom-left-radius":a+"px","border-bottom-left-radius":a+"px","-moz-border-radius-bottomright":h+"px","-webkit-border-bottom-right-radius":h+"px",
"border-bottom-right-radius":h+"px"});c.children(".linearBg").remove();c.prepend(e)}},changeBorders=function(a,b,c,d,e){var f=d[b+"bdt_"+a],g=d[b+"bdc_"+a],h=d[b+"bd_t_"+a],j=d[b+"bd_r_"+a],i=d[b+"bd_b_"+a],k=d[b+"bd_l_"+a],l=d[b+"bdr_tl_"+a],n=d[b+"bdr_tr_"+a],m=d[b+"bdr_br_"+a],q=d[b+"bdr_bl_"+a],o=d[b+"bdsw_int_"+a],a=d[b+"bdsw_amp_"+a];"swing"==f?(e=c.outerWidth(),f=c.outerHeight(),b=Math.floor(a/2),d=createCanvas(e,f),d.style.position="absolute",d.className="swingBd",c.children(".swingBd").remove(),
c.prepend(d),c=d.getContext("2d"),c.strokeStyle=g,drawSwingBorder(c,b,b,e-2*b,f-2*b,h,j,i,k,l,n,m,q,o,a)):"none"!=f&&(c.css({"border-style":f,"border-color":g,"border-top-width":h+"px","border-left-width":k+"px","border-bottom-width":i+"px","border-right-width":j+"px"}),e&&c.css({"-moz-border-radius-topleft":l+"px","-webkit-border-top-left-radius":l+"px","border-top-left-radius":l+"px","-moz-border-radius-topright":n+"px","-webkit-border-top-right-radius":n+"px","border-top-right-radius":n+"px","-moz-border-radius-bottomleft":q+
"px","-webkit-border-bottom-left-radius":q+"px","border-bottom-left-radius":q+"px","-moz-border-radius-bottomright":m+"px","-webkit-border-bottom-right-radius":m+"px","border-bottom-right-radius":m+"px"}))},generateBackgroundAndBorders=function(a,b,c,d,e){var f=c.outerWidth(),g=c.outerHeight(),h=d.outerWidth(),j=d.outerHeight(),i=""!=b||!e.bg?e[b+"bg_"+a]:e.bg,k=e[b+"bgo_"+a],l=e[b+"shd_"+a],n=e[b+"bd_paint_"+a],m=e[b+"bdt_"+a],q=e[b+"bdc_"+a],o=e[b+"bd_t_"+a],u=e[b+"bd_r_"+a],t=e[b+"bd_b_"+a],s=
e[b+"bd_l_"+a],r=e[b+"bdr_tl_"+a],v=e[b+"bdr_tr_"+a],w=e[b+"bdr_br_"+a],x=e[b+"bdr_bl_"+a],z=e[b+"bdsw_int_"+a],a=e[b+"bdsw_amp_"+a];c.children(".linearBg").remove();0==i.indexOf("#")||"transparent"==i||0==i.indexOf("rgba(")?c.css("background-color",i):c.prepend($('<img class="linearBg" src="images/'+i+'" width="'+(c==d?f-s-u:f)+'" height="'+(c==d?g-o-t:g)+'" align="top" />'));void 0!=k&&c.fadeTo(0,k/255);l&&c.css({"box-shadow":l,"-moz-box-shadow":l,"-webkit-box-shadow":l});f={"-moz-border-radius-topleft":r+
"px","-webkit-border-top-left-radius":r+"px","border-top-left-radius":r+"px","-moz-border-radius-topright":v+"px","-webkit-border-top-right-radius":v+"px","border-top-right-radius":v+"px","-moz-border-radius-bottomleft":x+"px","-webkit-border-bottom-left-radius":x+"px","border-bottom-left-radius":x+"px","-moz-border-radius-bottomright":w+"px","-webkit-border-bottom-right-radius":w+"px","border-bottom-right-radius":w+"px"};n&&("swing"==m?(n=Math.floor(a/2),m=createCanvas(h,j),m.style.position="absolute",
m.className="swingBd",d.children(".swingBd").remove(),g=d.children(":first"),0<g.length&&g.hasClass("labelBg")?g.after(m):d.prepend(m),d=m.getContext("2d"),d.strokeStyle=q,drawSwingBorder(d,n,n,h-2*n,j-2*n,o,u,t,s,r,v,w,x,z,a)):"none"!=m&&(q={"border-style":m,"border-color":q,"border-top-width":o+"px","border-left-width":s+"px","border-bottom-width":t+"px","border-right-width":u+"px"},d.css({width:h-s-u+"px",height:j-o-t+"px"}).css(q).css(f)));c.css(f).find("img").css(f)},applyFontParameters=function(a,
b,c,d){c.css({"font-family":d[b+"f_n_"+a],"font-size":d[b+"f_s_"+a],color:d[b+"f_c_"+a],"font-weight":d[b+"f_b_"+a]?"bold":"normal","font-style":d[b+"f_i_"+a]?"italic":"normal","text-decoration":d[b+"f_u_"+a]?"underline":"none"})},createLabelObject=function(a,b,c,d,e){var f=$('<span class="label" style="white-space:nowrap;"></span>');a?(a='<img class="icon" src='+(e?'"images/':'"images/dock/')+a+'" align="absmiddle" />',f.html((0==b%2?a:d)+(1<b?'<div style="font-size:1px; width:'+c+"px; height:"+
c+'px"/>':'<span style="display:inline-block; width:'+c+"px; height:"+c+'px"/>')+(0==b%2?d:a))):f.html(d);return f},initReferences=function(a){var b=a._obj.first();$('[ref="'+a._id+'"]').each(function(){var c=$(this);c.empty().append(b.clone(!1).children());c.find(".elem").each(function(){var a=$(this),b=a.attr("id");a.attr("id",c.attr("id")+"__"+b).attr("ref",b)});a.setupBehavior&&a.setupBehavior(c);a.updateUI(c)})},updateElementAndReferences=function(a){a.updateUI(a._obj);$('[ref="'+a._id+'"]').each(function(){a.updateUI($(this))})},
isPage=function(a){return null!=a&&null!=a.id&&0==a.id.indexOf("Page_")},getPageByObject=function(a){for(;a=a.parentNode;)if(isPage(a))return a;return null},canACoverB=function(a,b){if(null==a)return!1;if(null==b)return!0;this.getActualZ=function(a){try{var b="auto"==a.style.zIndex?0:a.style.zIndex}catch(c){b=0}"number"!=typeof b&&(b=parseInt(b,10));return b};this.getChildIndex=function(a,b){for(var c=0;c<b.parentNode.childNodes.length;c++)if(b.parentNode.childNodes[c]==b)return c};var c=isPage(a.parentNode)?
a:a.parentNode,d=isPage(b.parentNode)?b:b.parentNode,e=isPage(c.parentNode)?c:c.parentNode,f=isPage(d.parentNode)?d:d.parentNode;if(e!=f&&(e!=c||f!=d))return canACoverB(e,f);e=this.getActualZ(c);f=this.getActualZ(d);e==f&&c.parentNode==d.parentNode&&(e=this.getChildIndex(c.parentNode,c),f=this.getChildIndex(d.parentNode,d));return e>=f},rectInRect=function(a,b,c,d,e,f,g,h){this.ptInRect=function(a,b,c,d,e,f){return a>=c&&a<c+e&&b>=d&&b<d+f};var j=this.ptInRect(a,b,e,f,g,h),i=this.ptInRect(a,b+d-1,
e,f,g,h),k=this.ptInRect(a+c-1,b,e,f,g,h),a=this.ptInRect(a+c-1,b+d-1,e,f,g,h);return j&&i&&k&&a},objectsInRect=function(a,b,c,d,e,f){f||(f=a);var g=[];$(".elem",a).each(function(){if(canACoverB(this,f)){var a=getBounds(this);rectInRect(a.x,a.y,a.w,a.h,b,c,d,e)&&g.push(this)}});return g},initBehaviorForId=function(a){a=window.foreui.behaviors[a];if(void 0!=a)for(var b=0;b<a.length;b++)void 0==a[b].executed&&canExecuteBehavior(a[b])&&(a[b].instance.callMe(),a[b].executed=!0)},canExecuteBehavior=function(a){void 0==
a.instance&&(a.instance=new a);var a=a.instance.selector,b=a.size();if(0<b){for(var c=0;c<b;c++){var d=a.eq(c).attr("id");if(0==d.indexOf("Page_"))break;if(!window.foreui.elements[d])return!1}return!0}return!1},initDefaultBehaviorForElement=function(a){a&&a._obj.bind("mouseenter mouseleave mousemove mouseover mouseout mousedown mouseup contextmenu click Selection_Changed Value_Changed",function(b){a&&0<(a._params.state&64)&&b.stopImmediatePropagation()}).mousedown(function(a){$(a.target).parentsUntil(".elem").parent().attr("id")==
this.id&&(window.foreui.focusedElementId=this.id,onPropertyValueChanged("FOCUSED_ELEMENT_ID",this.id))}).trigger("Initialized")},getForeUIElementById=function(a){if(!window.foreui.elements[a]){var b=window.foreui.elements.constructors[a];b&&(b(),0==a.indexOf("Table_")&&(changeVisibility([a],-1,!1),changeVisibility([a],-1,!1)),initDefaultBehaviorForElement(window.foreui.elements[a]),initBehaviorForId(a))}return window.foreui.elements[a]},getBoundsById=function(a){return getBounds(document.getElementById(a))},
getBounds=function(a){for(var b=$(a),b={x:a.offsetLeft,y:a.offsetTop,w:b.outerWidth(),h:b.outerHeight()},c=a.offsetLeft,d=a.offsetTop;(a=a.offsetParent)&&!isPage(a);)b.x+=a.offsetLeft,b.y+=a.offsetTop;b.parentX=b.x-c;b.parentY=b.y-d;return b},getBoundsByIds=function(a,b){for(var c,d,e,f,g=0;g<a.length;g++){b[g]=getBoundsById(a[g]);if(void 0==c||b[g].x<c)c=b[g].x;if(void 0==d||b[g].y<d)d=b[g].y;if(void 0==e||b[g].x+b[g].w-1>e)e=b[g].x+b[g].w-1;if(void 0==f||b[g].y+b[g].h-1>f)f=b[g].y+b[g].h-1}return{x:c,
y:d,w:e-c+1,h:f-d+1}},isDescendantOf=function(a,b){var c=$("#"+a),d=$("#"+b);return 0<c.size()&&0<d.size()?0<=c.parents().index(d):!1},isDescendantOfAny=function(a,b){for(var c=0;c<b.length;c++)if(isDescendantOf(a,b[c]))return!0;return!1},appendInnerObjects=function(a,b){if(0<b.length){var c=getPageByObject(document.getElementById(b[0])),d=b.slice();d.sort(function(a,b){return a==b?0:canACoverB(document.getElementById(a),document.getElementById(b))?1:-1});d=document.getElementById(d[0]);c=objectsInRect(c,
a.x,a.y,a.w,a.h,d);for(d=0;d<c.length;d++)-1==$.inArray(c[d].id,b)&&!isDescendantOfAny(c[d].id,b)&&b.push(c[d].id)}},supportState=function(a,b){return-1!=$.inArray(b,a._params.states)},setState=function(a,b,c){if(supportState(a,b)&&(c||a._params.state!=b&&0==(a._params.state&64)))a._params.state=b,updateElementAndReferences(a)},getEvent=function(){if(document.all)return window.event;for(func=getEvent.caller;null!=func;){var a=func.arguments[0];if(a&&(a.constructor==Event||a.constructor==MouseEvent||
"object"==typeof a&&a.preventDefault&&a.stopPropagation))return a;func=func.caller}return null},getPropertyValue=function(a){var b=a.indexOf(".");if(-1!=b){var c=a.substring(0,b),a=a.substring(b+1,a.length);return getElementPropertyValue(c,a)}c=window.foreui.sys_properties[a];if(void 0!=c)return c.call();a=window.foreui.properties[a];return null!=a?a.value:null},isPageExcluded=function(a){return"true"==$("#Page_"+a).attr("excluded")},getElementTypeById=function(a){var b=a.indexOf("_");return-1==b?
"Unknown":a.substring(0,b)},findSiblingsInGroup=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=getForeUIElementById(a[d]);if(e){b&&-1==$.inArray(a[d],c)&&c.push(a[d]);var f=getElementTypeById(a[d]),g=e._obj.parent();g.hasClass("elem")&&0==g.attr("id").indexOf("Group")&&e._obj.siblings(".elem").filter(function(){return this.id&&0==this.id.indexOf(f)}).each(function(){-1==$.inArray(this.id,c)&&$.inArray(this.id,a)&&c.push(this.id)})}}return c},htmlToView=function(a){a=(""+a).replace(/\n/gi,"<br>");
a=a.replace(/([^\s])\s/gi,"$1&escsp;");a=a.replace(/\s/gi,"&nbsp;");return a=a.replace(/&escsp;/gi," ")},textFromView=function(a){a=(""+a).replace(/<br>/gi,"\n");return a=a.replace(/&nbsp;/gi," ")},initToolbar=function(a){a.hasToolbar&&(window.foreui.toolbar=new ForeUIToolbar(a))},toJsonString=function(a){$.isArray(a)?a=oneBasedToZeroBased(a.slice()):$.isPlainObject(a)&&(a=oneBasedToZeroBased($.extend(!0,{},a)));return void 0==a?"":$.toJSON(a)},onPropertyValueChanged=function(a,b){if(window.foreui.toolbar)ForeUIToolbar.prototype.onPropertyChanged(a,
b)},preloadImage=function(a){(new Image).src=a},isNumber=function(a){return a===+a},zeroBasedToOneBased=function(a){if($.isArray(a)){for(var b=0;b<a.length;b++)a[b]=zeroBasedToOneBased(a[b]);a.splice(0,0,void 0)}else if($.isPlainObject(a))for(b in a)a.hasOwnProperty(b)&&(a[b]=zeroBasedToOneBased(a[b]));return a},oneBasedToZeroBased=function(a){if($.isArray(a)){for(var b=0;b<a.length;b++)a[b]=oneBasedToZeroBased(a[b]);a.splice(0,1)}else if($.isPlainObject(a))for(b in a)a.hasOwnProperty(b)&&(a[b]=oneBasedToZeroBased(a[b]));
return a},getScreenWidth=function(){return document.body.clientWidth},getScreenHeight=function(){return document.body.clientHeight};function getCurrentPageIndex(){return window.foreui.curPage}function getCurrentPageTitle(){var a=document.getElementById("Page_"+getCurrentPageIndex());return null==a?"":a.getAttribute("pageTitle")}function getAvailablePageIndices(){return window.foreui.pageIndices}
function getAvailablePageTitles(){for(var a=[void 0],b=getAvailablePageIndices(),c=1;c<b.length;c++){var d=document.getElementById("Page_"+parseInt(b[c]));null!=d&&a.push(d.getAttribute("pageTitle"))}return a}function getCurrentYear(){return(new Date).getFullYear()}function getCurrentMonth(){return(new Date).getMonth()+1}function getCurrentDay(){return(new Date).getDate()}function getCurrentHours(){return(new Date).getHours()}function getCurrentMinutes(){return(new Date).getMinutes()}
function getCurrentSeconds(){return(new Date).getSeconds()}function getCurrentKeyCode(){var a=getEvent();return null==a?-1:a.keyCode}function getCtrlKeyState(){var a=getEvent();return null!=a&&!0==a.ctrlKey?1:0}function getAltKeyState(){var a=getEvent();return null!=a&&!0==a.altKey?1:0}function getShiftKeyState(){var a=getEvent();return null!=a&&!0==a.shiftKey?1:0}function getFocusedElementId(){return window.foreui.focusedElementId}
function getCurrentCursorX(){var a=getEvent();return null!=a?a.clientX:-1}function getCurrentCursorY(){var a=getEvent();return null!=a?a.clientY:-1}
var getElementPropertyValue=function(a,b){switch(b){case "id":return a;case "x":return getBoundsById(a).x;case "y":return getBoundsById(a).y;case "width":return getBoundsById(a).w;case "height":return getBoundsById(a).h;case "visible":var c=getForeUIElementById(a);return c?"hidden"!=c._obj.css("visibility"):!1;case "note":return(c=getForeUIElementById(a))?(c=c._params.note,null==c?"":c):"";default:if(c=getForeUIElementById(a)){var d=c["get"+b.substring(0,1).toUpperCase()+b.substring(1,b.length)];
if(void 0!=d)return d.call(c)}}return null},goToPage=function(a,b){window.foreui.curPage==a?b&&b():(window.foreui.lazy&&$("#loading").show(),setTimeout(function(){var c=$(".page").css("visibility","hidden"),d=$("#Page_"+a);if(window.foreui.curPage){var e={};$("#Page_"+window.foreui.curPage).children(".fromMaster").each(function(){var a=$(this).removeClass("fromMaster"),b=a.attr("srcPage");a.removeAttr("srcPage");void 0==e[b]&&(e[b]=$("<div>/</div>"));e[b].append(a)});for(var f in e)$("#"+f).append(e[f].children())}window.foreui.curPage=
a;var g=d.attr("masterPages").split(","),h=$("<div></div>");for(f=0;f<g.length;f++)if(""!=g[f]){var j=$("#"+g[f]);j.children(".elem").addClass("fromMaster").attr("srcPage",g[f]).appendTo(h);j.trigger("Loaded_As_Master")}h.children().prependTo(d);window.foreui.lazy&&d.find(".elem").each(function(){getForeUIElementById($(this).attr("id"))});d.css("visibility","visible").position({my:window.foreui.align+" top",at:window.foreui.align+" top",of:document}).css("top","0px");d.trigger("Page_Loaded");onPropertyValueChanged("CURRENT_PAGE_INDEX",
a);onPropertyValueChanged("CURRENT_PAGE_TITLE",getCurrentPageTitle());var c=c.size(),i=0,k=0;window.foreui.pageIndices=[void 0];for(f=1;f<=c;f++)isPageExcluded(f)||(i++,window.foreui.pageIndices.push(f)),0==k&&f==a&&(k=i);setTimeout(function(){window.foreui.toolbar&&(ForeUIToolbar.prototype.updatePageIndicator(k,i),ForeUIToolbar.prototype.updateSelectedPage(a));$("#loading").hide()},50);onPropertyValueChanged("AVAILABLE_PAGE_INDICES",window.foreui.pageIndices);onPropertyValueChanged("AVAILABLE_PAGE_TITLES",
getAvailablePageTitles());b&&b()},0))},previousPage=function(){for(var a=getCurrentPageIndex()-1;isPageExcluded(a);)a-=1;1<=a&&goToPage(a)},nextPage=function(){for(var a=getCurrentPageIndex(),b=$(".page").size(),a=a+1;isPageExcluded(a);)a+=1;a<=b&&goToPage(a)},setGlobalCursor=function(a){$("body").css("cursor",a)},changeVisibility=function(a,b,c){var d=getBoundsByIds(a,[]);c&&appendInnerObjects(d,a);for(c=0;c<a.length;c++){var d=getForeUIElementById(a[c])._obj,e=d.get(0),f=0==b?"hidden":1==b?"inherit":
"inherit"==e.style.visibility?"hidden":"inherit";e.style.visibility=f;"hidden"==f?d.trigger("Hidden"):"inherit"==f&&d.trigger("Visible")}},changeState=function(a,b,c){var d=getBoundsByIds(a,[]);c&&appendInnerObjects(d,a);for(c=0;c<a.length;c++)if(d=getForeUIElementById(a[c]),supportState(d,b)){d._params.state=b;if(d.onStateChanged)d.onStateChanged();updateElementAndReferences(d)}},move=function(a,b,c,d){var e=(b+"  ").substring(0,2),f=(c+"  ").substring(0,2),e="+="==e?1:"-="==e?-1:0,f="+="==f?1:"-="==
f?-1:0,b=parseFloat(0==e?b:eval(b.substring(2))),c=parseFloat(0==f?c:eval(c.substring(2))),g=[],h=getBoundsByIds(a,g);d&&appendInnerObjects(h,a);for(d=0;d<a.length;d++){void 0==g[d]&&(g[d]=getBoundsById(a[d]));var j=getForeUIElementById(a[d])._obj.get(0);j.style.left=0==e?b+g[d].x-h.x-g[d].parentX+"px":parseInt(j.style.left)+e*b+"px";j.style.top=0==f?c+g[d].y-h.y-g[d].parentY+"px":parseInt(j.style.top)+f*c+"px"}},resize=function(a,b,c,d){var e=(b+"  ").substring(0,2),f=(c+"  ").substring(0,2),e="+="==
e?1:"-="==e?-1:0,f="+="==f?1:"-="==f?-1:0,b=parseFloat(0==e?b:eval(b.substring(2))),c=parseFloat(0==f?c:eval(c.substring(2))),g=[],h=getBoundsByIds(a,g);d&&appendInnerObjects(h,a);for(d=0;d<a.length;d++){void 0==g[d]&&(g[d]=getBoundsById(a[d]));var j,i,k,l;0==e?(j=h.x+(g[d].x-h.x)*b/h.w,k=b*g[d].w/h.w):(k=g[d].w+e*b*g[d].w/h.w,j=g[d].x+e*(g[d].x-h.x)*b/h.w);0==f?(i=h.y+(g[d].y-h.y)*c/h.h,l=c*g[d].h/h.h):(l=g[d].h+f*c*g[d].h/h.h,i=g[d].y+f*(g[d].y-h.y)*c/h.h);(j!=g[d].x||i!=g[d].y)&&move([a[d]],j,
i,!1);j=getForeUIElementById(a[d]);j._obj.width(k).height(l);updateElementAndReferences(j)}},changeBgColor=function(a,b){for(var c=0;c<a.length;c++){var d=getForeUIElementById(a[c]);d&&d.setBgColor&&(d.setBgColor(b),updateElementAndReferences(d))}},changeOpacity=function(a,b){for(var c=0;c<a.length;c++){var d=getForeUIElementById(a[c]);d&&d.setBgOpacity&&(d.setBgOpacity(b),updateElementAndReferences(d))}},changeTextColor=function(a,b){for(var c=0;c<a.length;c++){var d=getForeUIElementById(a[c]);d&&
d.setTextColor&&(d.setTextColor(b),updateElementAndReferences(d))}},changeTextValue=function(a,b){for(var c=0;c<a.length;c++){var d=getForeUIElementById(a[c]);d&&d.setText&&(d.setText(b),updateElementAndReferences(d))}},triggerEvent=function(a,b){if(a)for(var c=0;c<a.length;c++)getForeUIElementById(a[c])._obj.bind(b,{},!1).trigger(b);else $(document).trigger(b)},setCustomProperty=function(a,b,c){if(0==c){if(!isNumber(b))var d=parseFloat(b),b=parseInt(b),b=d==b?b:d}else 2==c&&($.isArray(b)||(b=[b]));
b=zeroBasedToOneBased(b);window.foreui.properties[a]={name:a,value:b,type:c};onPropertyValueChanged(a,b)},setSelectedIndex=function(a,b){for(var c=0;c<a.length;c++)getForeUIElementById(a[c]).setSelectedIndex(b)},getSelectedIndex=function(a){return getForeUIElementById(a).getSelectedIndex()},setSelectedText=function(a,b){for(var c=0;c<a.length;c++)getForeUIElementById(a[c]).setSelectedText(b)},getSelectedText=function(a){return getForeUIElementById(a).getSelectedText()},setCurrentValue=function(a,
b){for(var c=0;c<a.length;c++)getForeUIElementById(a[c]).setCurrentValue(b)},getCurrentValue=function(a){return getForeUIElementById(a).getCurrentValue()},setFocus=function(a){for(var b=0;b<a.length;b++)getForeUIElementById(a[b]).setFocus()},setImageSource=function(a,b){var c=b.match(/\d+/);if(null!=c)for(var c=c[0]+"."+window.foreui.imagetypes[c[0]],d=0;d<a.length;d++)getForeUIElementById(a[d]).setImageSource(c)};$(document).ready(function(){window.foreui||(window.foreui={});window.foreui.lazy=!1;window.foreui.align="center";$(".page").position({my:window.foreui.align+" top",at:window.foreui.align+" top",of:document}).css("top","0px");window.foreui.imagetypes={};window.foreui.elements={};window.foreui.elements.constructors={};window.foreui.elements.constructors.Button_3=function(){window.foreui.elements.Button_3=new Button("Button_3",{bg_32:"#DADADA",f_c_64:"#808080",bdc_16:"#707070",bdr_br_64:0,bdt_64:"outset",
f_u_64:false,bd_t_16:1,f_b_64:false,bdr_tl_32:0,margin:15,bgo_32:255,bdsw_amp_16:0,f_i_64:false,f_b_0:false,bd_paint_0:true,bdr_br_0:0,bd_b_32:1,f_s_16:11,bdr_bl_32:0,bdr_tr_32:0,bd_r_32:1,bdc_32:"#707070",txt_a_0:"center",bdsw_int_16:0,bdw_64:1,gap:5,bdsw_amp_0:0,bd_l_0:1,states:[0,16,32,64],bdc_0:"#707070",bdw_0:1,f_n_16:"Arial",bdsw_amp_32:0,f_i_16:false,bgo_16:255,bdr_tl_16:0,bd_t_32:1,bd_l_64:1,txt_a_64:"center",f_s_32:11,f_u_0:false,f_i_0:false,bg_64:"#E6E6E6",bd_paint_64:true,bdr_br_32:0,f_u_16:false,
bd_b_0:1,bdr_br_16:0,f_b_32:false,icon_p:0,bdsw_int_32:0,bdr_bl_16:0,f_n_64:"Arial",bd_b_64:1,bgo_64:255,bd_t_64:1,bdc_64:"#707070",bdw_32:1,bd_r_0:1,bdr_tr_0:0,f_s_0:11,txt_a_16:"center",bdsw_int_0:0,bdr_tr_64:0,f_c_16:"#000000",bd_r_64:1,bdr_tl_64:0,bdr_bl_64:0,bounds:{height:25,width:58,y:0,x:0},bd_t_0:1,f_b_16:false,f_i_32:false,f_u_32:false,bd_l_16:1,bdt_16:"outset",bd_paint_32:true,bdt_0:"outset",state:0,bg_16:"#DADADA",txt_a_32:"center",bdsw_int_64:0,f_c_32:"#000000",bdw_16:1,f_c_0:"#000000",
bg_0:"#E6E6E6",icon:false,bdt_32:"inset",bd_l_32:1,f_n_32:"Arial",bdr_tr_16:0,bdsw_amp_64:0,bd_r_16:1,bd_b_16:1,bdr_bl_0:0,f_n_0:"Arial",bgo_0:255,bdr_tl_0:0,f_s_64:11,bd_paint_16:true})};window.foreui.elements.constructors.TextBox_3=function(){window.foreui.elements.TextBox_3=new TextBox("TextBox_3",{f_n_64:"Arial",f_c_64:"#808080",bd_b_64:1,bgo_64:0,txt_va_64:"top",bd_t_64:1,bdr_br_64:0,bdt_64:"solid",bdc_64:"#C0C0C0",f_u_64:false,f_b_64:false,bdr_tr_0:0,bd_r_0:1,f_s_0:11,bdr_tr_64:0,bdsw_int_0:0,
f_i_64:false,bd_r_64:1,f_b_0:false,bd_paint_0:false,bdr_br_0:0,bdr_tl_64:0,bdr_bl_64:0,bounds:{height:18,width:35,y:0,x:0},bd_t_0:1,txt_a_0:"left",bdw_64:1,bdsw_amp_0:0,bd_l_0:1,bdt_0:"solid",state:0,states:[0,64],bdc_0:"#000000",bdw_0:1,bdsw_int_64:0,f_c_0:"#000000",bd_l_64:1,bg_0:"#FFFFFF",txt_va_0:"top",txt_a_64:"left",f_u_0:false,f_i_0:false,bg_64:"#FFFFFF",bd_paint_64:false,bdsw_amp_64:0,f_n_0:"Arial",bdr_bl_0:0,bgo_0:0,bd_b_0:1,bdr_tl_0:0,f_s_64:11})};window.foreui.elements.constructors.TextEditBox_3=
function(){window.foreui.elements.TextEditBox_3=new TextEditBox("TextEditBox_3",{f_n_64:"Arial",f_c_64:"#808080",bd_b_64:1,bgo_64:255,bd_t_64:1,bdr_br_64:0,bdt_64:"solid",bdc_64:"#C0C0C0",f_u_64:false,f_b_64:false,bdr_tr_0:0,bd_r_0:1,f_s_0:11,encrypt:false,bdr_tr_64:0,bdsw_int_0:0,margin:5,f_i_64:false,bd_r_64:1,f_b_0:false,bd_paint_0:true,bdr_br_0:0,bdr_tl_64:0,bdr_bl_64:0,bounds:{height:22,width:404,y:0,x:0},bd_t_0:1,txt_a_0:"left",bdw_64:1,bdsw_amp_0:0,bd_l_0:1,bdt_0:"solid",state:0,states:[0,
64],bdc_0:"#808080",bdw_0:1,bdsw_int_64:0,f_c_0:"#000000",multirow:false,bd_l_64:1,bg_0:"#FFFFFF",txt_a_64:"left",f_u_0:false,f_i_0:false,bg_64:"#FFFFFF",bd_paint_64:true,bdsw_amp_64:0,f_n_0:"Arial",bdr_bl_0:0,bgo_0:255,bd_b_0:1,bdr_tl_0:0,f_s_64:11})};window.foreui.elements.constructors.Line_1=function(){window.foreui.elements.Line_1=new Line("Line_1",{bdsw_amp_0:0,bg_0:"transparent",bd_l_0:1,bd_paint_0:true,bdr_br_0:0,bdt_0:"solid",state:0,bdc_0:"#000000",type:3,bdw_0:1,bounds:{height:597,width:31,
y:0,x:0},bdr_bl_0:0,bd_t_0:1,bd_r_0:1,bgo_0:255,bdr_tr_0:0,bd_b_0:1,bdr_tl_0:0,bdsw_int_0:0})};window.foreui.elements.constructors.Button_2=function(){window.foreui.elements.Button_2=new Button("Button_2",{bg_32:"#DADADA",f_c_64:"#808080",bdc_16:"#707070",bdr_br_64:0,bdt_64:"outset",f_u_64:false,bd_t_16:1,f_b_64:false,bdr_tl_32:0,margin:15,bgo_32:255,bdsw_amp_16:0,f_i_64:false,f_b_0:false,bd_paint_0:true,bdr_br_0:0,bd_b_32:1,f_s_16:11,bdr_bl_32:0,bdr_tr_32:0,bd_r_32:1,bdc_32:"#707070",txt_a_0:"center",
bdsw_int_16:0,bdw_64:1,gap:5,bdsw_amp_0:0,bd_l_0:1,states:[0,16,32,64],bdc_0:"#707070",bdw_0:1,f_n_16:"Arial",bdsw_amp_32:0,f_i_16:false,bgo_16:255,bdr_tl_16:0,bd_t_32:1,bd_l_64:1,txt_a_64:"center",f_s_32:11,f_u_0:false,f_i_0:false,bg_64:"#E6E6E6",bd_paint_64:true,bdr_br_32:0,f_u_16:false,bd_b_0:1,bdr_br_16:0,f_b_32:false,icon_p:0,bdsw_int_32:0,bdr_bl_16:0,f_n_64:"Arial",bd_b_64:1,bgo_64:255,bd_t_64:1,bdc_64:"#707070",bdw_32:1,bd_r_0:1,bdr_tr_0:0,f_s_0:11,txt_a_16:"center",bdsw_int_0:0,bdr_tr_64:0,
f_c_16:"#000000",bd_r_64:1,bdr_tl_64:0,bdr_bl_64:0,bounds:{height:25,width:74,y:0,x:0},bd_t_0:1,f_b_16:false,f_i_32:false,f_u_32:false,bd_l_16:1,bdt_16:"outset",bd_paint_32:true,bdt_0:"outset",state:0,bg_16:"#DADADA",txt_a_32:"center",bdsw_int_64:0,f_c_32:"#000000",bdw_16:1,f_c_0:"#000000",bg_0:"#E6E6E6",icon:false,bdt_32:"inset",bd_l_32:1,f_n_32:"Arial",bdr_tr_16:0,bdsw_amp_64:0,bd_r_16:1,bd_b_16:1,bdr_bl_0:0,f_n_0:"Arial",bgo_0:255,bdr_tl_0:0,f_s_64:11,bd_paint_16:true})};window.foreui.elements.constructors.Button_1=
function(){window.foreui.elements.Button_1=new Button("Button_1",{bg_32:"#DADADA",f_c_64:"#808080",bdc_16:"#707070",bdr_br_64:0,bdt_64:"outset",f_u_64:false,bd_t_16:1,f_b_64:false,bdr_tl_32:0,margin:15,bgo_32:255,bdsw_amp_16:0,f_i_64:false,f_b_0:false,bd_paint_0:true,bdr_br_0:0,bd_b_32:1,f_s_16:11,bdr_bl_32:0,bdr_tr_32:0,bd_r_32:1,bdc_32:"#707070",txt_a_0:"center",bdsw_int_16:0,bdw_64:1,gap:5,bdsw_amp_0:0,bd_l_0:1,states:[0,16,32,64],bdc_0:"#707070",bdw_0:1,f_n_16:"Arial",bdsw_amp_32:0,f_i_16:false,
bgo_16:255,bdr_tl_16:0,bd_t_32:1,bd_l_64:1,txt_a_64:"center",f_s_32:11,f_u_0:false,f_i_0:false,bg_64:"#E6E6E6",bd_paint_64:true,bdr_br_32:0,f_u_16:false,bd_b_0:1,bdr_br_16:0,f_b_32:false,icon_p:0,bdsw_int_32:0,bdr_bl_16:0,f_n_64:"Arial",bd_b_64:1,bgo_64:255,bd_t_64:1,bdc_64:"#707070",bdw_32:1,bd_r_0:1,bdr_tr_0:0,f_s_0:11,txt_a_16:"center",bdsw_int_0:0,bdr_tr_64:0,f_c_16:"#000000",bd_r_64:1,bdr_tl_64:0,bdr_bl_64:0,bounds:{height:25,width:58,y:0,x:0},bd_t_0:1,f_b_16:false,f_i_32:false,f_u_32:false,
bd_l_16:1,bdt_16:"outset",bd_paint_32:true,bdt_0:"outset",state:0,bg_16:"#DADADA",txt_a_32:"center",bdsw_int_64:0,f_c_32:"#000000",bdw_16:1,f_c_0:"#000000",bg_0:"#E6E6E6",icon:false,bdt_32:"inset",bd_l_32:1,f_n_32:"Arial",bdr_tr_16:0,bdsw_amp_64:0,bd_r_16:1,bd_b_16:1,bdr_bl_0:0,f_n_0:"Arial",bgo_0:255,bdr_tl_0:0,f_s_64:11,bd_paint_16:true})};window.foreui.elements.constructors.TextBox_2=function(){window.foreui.elements.TextBox_2=new TextBox("TextBox_2",{f_n_64:"Arial",f_c_64:"#808080",bd_b_64:1,
bgo_64:0,txt_va_64:"top",bd_t_64:1,bdr_br_64:0,bdt_64:"solid",bdc_64:"#C0C0C0",f_u_64:false,f_b_64:false,bdr_tr_0:0,bd_r_0:1,f_s_0:11,bdr_tr_64:0,bdsw_int_0:0,f_i_64:false,bd_r_64:1,f_b_0:false,bd_paint_0:false,bdr_br_0:0,bdr_tl_64:0,bdr_bl_64:0,bounds:{height:16,width:35,y:0,x:0},bd_t_0:1,txt_a_0:"left",bdw_64:1,bdsw_amp_0:0,bd_l_0:1,bdt_0:"solid",state:0,states:[0,64],bdc_0:"#000000",bdw_0:1,bdsw_int_64:0,f_c_0:"#000000",bd_l_64:1,bg_0:"#FFFFFF",txt_va_0:"top",txt_a_64:"left",f_u_0:false,f_i_0:false,
bg_64:"#FFFFFF",bd_paint_64:false,bdsw_amp_64:0,f_n_0:"Arial",bdr_bl_0:0,bgo_0:0,bd_b_0:1,bdr_tl_0:0,f_s_64:11})};window.foreui.elements.constructors.TextEditBox_2=function(){window.foreui.elements.TextEditBox_2=new TextEditBox("TextEditBox_2",{f_n_64:"Arial",f_c_64:"#808080",bd_b_64:1,bgo_64:255,bd_t_64:1,bdr_br_64:0,bdt_64:"solid",bdc_64:"#C0C0C0",f_u_64:false,f_b_64:false,bdr_tr_0:0,bd_r_0:1,f_s_0:11,encrypt:false,bdr_tr_64:0,bdsw_int_0:0,margin:5,f_i_64:false,bd_r_64:1,f_b_0:false,bd_paint_0:true,
bdr_br_0:0,bdr_tl_64:0,bdr_bl_64:0,bounds:{height:22,width:92,y:0,x:0},bd_t_0:1,txt_a_0:"left",bdw_64:1,bdsw_amp_0:0,bd_l_0:1,bdt_0:"solid",state:0,states:[0,64],bdc_0:"#808080",bdw_0:1,bdsw_int_64:0,f_c_0:"#000000",multirow:false,bd_l_64:1,bg_0:"#FFFFFF",txt_a_64:"left",f_u_0:false,f_i_0:false,bg_64:"#FFFFFF",bd_paint_64:true,bdsw_amp_64:0,f_n_0:"Arial",bdr_bl_0:0,bgo_0:255,bd_b_0:1,bdr_tl_0:0,f_s_64:11})};window.foreui.elements.constructors.TextBox_1=function(){window.foreui.elements.TextBox_1=
new TextBox("TextBox_1",{f_n_64:"Arial",f_c_64:"#808080",bd_b_64:1,bgo_64:0,txt_va_64:"top",bd_t_64:1,bdr_br_64:0,bdt_64:"solid",bdc_64:"#C0C0C0",f_u_64:false,f_b_64:false,bdr_tr_0:0,bd_r_0:1,f_s_0:11,bdr_tr_64:0,bdsw_int_0:0,f_i_64:false,bd_r_64:1,f_b_0:false,bd_paint_0:false,bdr_br_0:0,bdr_tl_64:0,bdr_bl_64:0,bounds:{height:16,width:35,y:0,x:0},bd_t_0:1,txt_a_0:"left",bdw_64:1,bdsw_amp_0:0,bd_l_0:1,bdt_0:"solid",state:0,states:[0,64],bdc_0:"#000000",bdw_0:1,bdsw_int_64:0,f_c_0:"#000000",bd_l_64:1,
bg_0:"#FFFFFF",txt_va_0:"top",txt_a_64:"left",f_u_0:false,f_i_0:false,bg_64:"#FFFFFF",bd_paint_64:false,bdsw_amp_64:0,f_n_0:"Arial",bdr_bl_0:0,bgo_0:0,bd_b_0:1,bdr_tl_0:0,f_s_64:11})};window.foreui.elements.constructors.TextEditBox_1=function(){window.foreui.elements.TextEditBox_1=new TextEditBox("TextEditBox_1",{f_n_64:"Arial",f_c_64:"#808080",bd_b_64:1,bgo_64:255,bd_t_64:1,bdr_br_64:0,bdt_64:"solid",bdc_64:"#C0C0C0",f_u_64:false,f_b_64:false,bdr_tr_0:0,bd_r_0:1,f_s_0:11,encrypt:false,bdr_tr_64:0,
bdsw_int_0:0,margin:5,f_i_64:false,bd_r_64:1,f_b_0:false,bd_paint_0:true,bdr_br_0:0,bdr_tl_64:0,bdr_bl_64:0,bounds:{height:22,width:92,y:0,x:0},bd_t_0:1,txt_a_0:"left",bdw_64:1,bdsw_amp_0:0,bd_l_0:1,bdt_0:"solid",state:0,states:[0,64],bdc_0:"#808080",bdw_0:1,bdsw_int_64:0,f_c_0:"#000000",multirow:false,bd_l_64:1,bg_0:"#FFFFFF",txt_a_64:"left",f_u_0:false,f_i_0:false,bg_64:"#FFFFFF",bd_paint_64:true,bdsw_amp_64:0,f_n_0:"Arial",bdr_bl_0:0,bgo_0:255,bd_b_0:1,bdr_tl_0:0,f_s_64:11})};window.foreui.snapshot=
[];for(var a=$(".page"),b=a.size(),c=0,d=0;d<b;d++){var e=[];window.foreui.snapshot.push(e);for(var f=a.eq(d).find(".elem"),g=f.size(),h=0;h<g;h++)e.push(f.eq(h).attr("id")),c++}var j=0,i=0,k=0;if(window.foreui.lazy){jQuery.idleTimer(500,document,{startImmediately:!0,idle:!1,enabled:!0,events:"keydown mousedown touchstart"});var l=!0,n=function(){if(i<b){var a=window.foreui.snapshot[i];if(k<a.length){getForeUIElementById(a[k++]);j++;window.status="Loaded Page: "+(i+1)+"/"+b+", Element: "+j+"/"+c}else{i++;
k=0}}if(j==c){jQuery.idleTimer("destroy");window.foreui.lazy=false}else l&&setTimeout(n,0)};$(document).bind("idle.idleTimer",function(){l=true;n()});$(document).bind("active.idleTimer",function(){l=false})}else setTimeout(function(){for(i=0;i<b;i++){var a=window.foreui.snapshot[i];for(k=0;k<a.length;k++){getForeUIElementById(a[k]);j++;window.status="Loaded Page: "+(i+1)+"/"+b+", Element: "+j+"/"+c}}},0);for(d=1;d<=b;d++)initBehaviorForId("Page_"+d)});var preloadAllImages=function(){};
$(window).load(function(){setTimeout(function(){$(".page").css("visibility","visible").css("visibility","hidden");$("body").css("cursor","default");for(var a=1;isPageExcluded(a);)a+=1;goToPage(a,function(){initToolbar({pin:!0,alignButton:!0,hasToolbar:!0,pageTree:{excluded:!1,children:[{title:"Page1",index:0,excluded:!1,children:[],type:"page"}],type:"root"},propertyButton:!0,dockTo:"bottom",pageButton:!0})});$(document).keyup(function(a){33==a.which?previousPage():34==a.which&&nextPage()})},0)});var Line=function(a,b){this._id=a;this._params=b;this._obj=$("#"+a);this.init()};
Line.prototype={init:function(){initReferences(this);var a=this;setTimeout(function(){updateElementAndReferences(a)},0)},updateUI:function(a){var b=this._params,c=a.width(),d=a.height(),e=b.type;canvas=createCanvas(c,d);a.empty().append(canvas);$(canvas).css("position","absolute");var a=canvas.getContext("2d"),f,g;switch(e){case 0:f={x:0,y:d/2};g={x:c,y:d/2};break;case 1:f={x:0,y:0};g={x:c,y:d};break;case 2:f={x:c,y:0};g={x:0,y:d};break;case 3:f={x:c/2,y:0},g={x:c/2,y:d}}a.strokeStyle=b.bdc_0;a.lineWidth=
b.bdw_0;drawSwingLine(a,f,g,b.bdsw_int_0,b.bdsw_amp_0,!1)}};window.foreui||(window.foreui={});
window.foreui.sys_properties={SCREEN_WIDTH:getScreenWidth,SCREEN_HEIGHT:getScreenHeight,CURRENT_PAGE_INDEX:getCurrentPageIndex,CURRENT_PAGE_TITLE:getCurrentPageTitle,AVAILABLE_PAGE_INDICES:getAvailablePageIndices,AVAILABLE_PAGE_TITLES:getAvailablePageTitles,CURRENT_YEAR:getCurrentYear,CURRENT_MONTH:getCurrentMonth,CURRENT_DAY:getCurrentDay,CURRENT_HOURS:getCurrentHours,CURRENT_MINUTES:getCurrentMinutes,CURRENT_SECONDS:getCurrentSeconds,CURRENT_KEY_CODE:getCurrentKeyCode,CTRL_KEY_STATE:getCtrlKeyState,
ALT_KEY_STATE:getAltKeyState,SHIFT_KEY_STATE:getShiftKeyState,FOCUSED_ELEMENT_ID:getFocusedElementId,CURRENT_CURSOR_X:getCurrentCursorX,CURRENT_CURSOR_Y:getCurrentCursorY};window.foreui.properties={};var TextBox=function(a,b){this._id=a;this._params=b;this._obj=$("#"+a);this.init()};
TextBox.prototype={init:function(){var a=this._params;this._text=this._obj.html();this._obj.empty();this._bg=$('<div class="bg"></div>').appendTo(this._obj);this._bd=$('<div class="bd"></div>').appendTo(this._obj);this._fg=$('<div class="fg"><table cellspacing="0" cellpadding="0"><tr><td>'+htmlToView(this._text)+"</td></tr></table></div>").appendTo(this._obj);var b=a.bd_paint_0?a.bdw_0:0,c=a["txt_a_"+a.state],a=a["txt_va_"+a.state];this._fg.find("td").css({"text-align":c,"vertical-align":a,padding:b+
"px"});initReferences(this);var d=this;setTimeout(function(){setState(d,d._params.state,!0)},0)},updateUI:function(a){var b=this._params,c=b.state,d=a.children(".bg"),e=a.children(".bd"),f=a.children(".fg"),g=a.width(),a=a.height();e.css("border-width","0px").width(g).height(a);generateBackgroundAndBorders(c,"",d,e,b);d=b["bdw_"+c];d=b["bd_paint_"+c]?d:0;f.find("table").width(g-2*d).height(a-2*d);applyFontParameters(c,"",f.find("td").html(htmlToView(this._text)),b)},getText:function(){return textFromView(this._text)},
setText:function(a){this._text=a},setBgColor:function(a){var b=this._params;b.bg_0=b.bg_64=a;updateElementAndReferences(this)},setBgOpacity:function(a){var b=this._params;b.bgo_0=b.bgo_64=a;updateElementAndReferences(this)},setTextColor:function(a){var b=this._params;b.f_c_0=b.f_c_64=a;updateElementAndReferences(this)}};var TextEditBox=function(a,b){this._id=a;this._params=b;this._obj=$("#"+a);this.init()};
TextEditBox.prototype={init:function(){var a=this._params;this._text=this._obj.html().replace(/\t/g,"");this._obj.empty();this._bg=$('<div class="bg"></div>').appendTo(this._obj);this._bd=$('<div class="bd"></div>').appendTo(this._obj);this._fg=$('<div class="fg"></div>').appendTo(this._obj);var b=a["txt_a_"+a.state],c=a.margin;$(a.multirow?'<textarea class="edit">'+this._text+"</textarea>":'<input class="edit" type="'+(a.encrypt?"password":"text")+'" value="'+this._text+'" />').css({width:"100%",
height:"100%","text-align":b,"padding-left":c,"padding-right":c,"background-color":"transparent","border-width":"0px",overflow:"hidden"}).appendTo(this._fg);this.setupBehavior(this._obj);initReferences(this);var d=this;setTimeout(function(){setState(d,d._params.state,!0)},0)},updateUI:function(a){var b=this._params,c=b.state,d=a.children(".bg"),e=a.children(".bd"),f=a.children(".fg"),g=a.width(),a=a.height();e.css("border-width","0px").width(g).height(a);generateBackgroundAndBorders(c,"",d,e,b);d=
b.margin;f.find(".edit").width(g-2*d).height(a).val(this._text).prop("disabled",0<(c&64));applyFontParameters(c,"",f.find(".edit"),b)},setupBehavior:function(a){var b=this;a.children(".fg").find(".edit").change(function(){b._text=$(this).val();$("#"+b._id).trigger("Value_Changed");updateElementAndReferences(b)})},getValue:function(){return this._obj.children(".fg").find(".edit").val()},setCurrentValue:function(a){this.getValue()!=a&&(this._text=a,this._obj.children(".fg").find(".edit").val(a),$("#"+
this._id).trigger("Value_Changed"),updateElementAndReferences(this))},setFocus:function(){var a=this._obj.children(".fg").find(".edit").get(0);a.focus();a.select();window.foreui.focusedElementId=this._id;onPropertyValueChanged("FOCUSED_ELEMENT_ID",this._id)}};var ForeUIToolbar=function(a){this._conf=a;this._init()};
ForeUIToolbar.prototype={_init:function(){var a=this._conf,b=$("body");this._toolbar=$('<div class="toolbar"></div>').appendTo(b);this._controls=$('<div class="controls" style="white-space:nowrap;"></div>').appendTo(this._toolbar);this._controls.append('<img src="styles/foreui_logo.gif" align="absmiddle" />');this._controls.append('<span style="width:10px;"></span>');this._pageLabel=$("<span>Page:</span>").appendTo(this._controls);this._prevButton=$('<span class="button" title="Go to previous page (Page Up)" style="width:14px">&lt;</span>').appendTo(this._controls);
this._pageIndicator=$('<span class="pageIndicator">1/1</span>').appendTo(this._controls);this._nextButton=$('<span class="button" title="Go to next page (Page Down)" style="width:14px">&gt;</span>').appendTo(this._controls);var c=0.8*document.body.clientHeight;this._gotoButton=$('<span class="button" title="Choose a page from the list">Goto...</span>').appendTo(this._controls);this._pageList=$('<div class="pageList winFrame"><div class="winTitle"><div class="winTitleClose">X</div>Pages:</div><div class="winClient"><ul></ul></div></div>').appendTo(b);
for(var d=this._pageList.children().children("ul"),e=a.pageTree.children,f=0;f<e.length;f++)this._appendPgTreeNode(e[f],d);this._pageList.width(Math.min(400,Math.max(200,this._pageList.width()+20)));this._pageList.height(Math.min(c,Math.max(200,this._pageList.height()+20)));this._controls.append('<span style="width:10px;"></span>');this._propertyButton=$('<span class="button" title="View Properties">Properties</span>').appendTo(this._controls);this._propertyList=$('<div class="propertyList winFrame"><div class="winTitle"><div class="winTitleClose">X</div>Properties:</div><div class="winClient"><table border="1" cellspacing="0" cellpadding="5"></table></div></div>').appendTo(b);
b=this._propertyList.children().children("table");e=window.foreui.sys_properties;for(propName in e)d=$("<tr></tr>").appendTo(b),$('<td style="font-weight:bold;"></td>').append(propName).appendTo(d),$('<td style="font-weight:bold;" width="50%" class="'+propName+'">'+toJsonString(getPropertyValue(propName))+"</td>").appendTo(d);e=window.foreui.properties;for(propName in e)d=$("<tr></tr>").appendTo(b),$("<td></td>").append(propName).appendTo(d),$('<td width="50%" class="'+propName+'">'+toJsonString(getPropertyValue(propName))+
"</td>").appendTo(d);this._propertyList.width(Math.min(400,Math.max(300,this._propertyList.width())));this._propertyList.height(Math.min(c,Math.max(300,this._propertyList.height())));this._schedulePropertyUpdate(b);this._controls.append('<span style="width:10px;"></span>');this._alignButton=$('<span class="button" title="Click to Change Content Alignment">Content Align: '+window.foreui.align+"</span>").appendTo(this._controls);this._pinButton=$('<img class="pinButton" src="styles/'+(a.pin?"pin.gif":
"unpin.gif")+'" title="Click to pin/unpin the toolbar" style="position:absolute;cursor:pointer;">').appendTo(this._toolbar);this._dockButtons=$('<div class="dockButtons"></div>').appendTo(this._toolbar);this._dockTop=$('<div class="dockButton dockTop" title="Dock to top">').appendTo(this._dockButtons);this._dockLeft=$('<div class="dockButton dockLeft" title="Dock to left">').appendTo(this._dockButtons);this._dockBottom=$('<div class="dockButton dockBottom" title="Dock to bottom">').appendTo(this._dockButtons);
this._dockRight=$('<div class="dockButton dockRight" title="Dock to right">').appendTo(this._dockButtons);this["_dock"+a.dockTo.charAt(0).toUpperCase()+a.dockTo.substr(1)].addClass("hlDockButton");this._setupBehavior();var g=this;setTimeout(function(){g._updateLayout();g._toolbar.trigger("mouseout")},50)},_appendPgTreeNode:function(a,b){var c=a.children,d=parseInt(a.index)+1,e=$("<li></li>").attr({type:a.type,excluded:a.excluded}).appendTo(b);"page"==a.type&&e.attr("pageIndex",d);$(a.excluded||"folder"==
a.type?"<span></span>":'<a href="javascript:goToPage('+d+');"></a>').append(a.title).appendTo(e).children("img");"folder"==a.type?e.css("list-style",'url("styles/'+(a.excluded?"folder_excluded.png":"folder.png")+'")'):e.css("list-style",'url("styles/'+(a.excluded?"page_excluded.png":"page.png")+'")');a.excluded&&e.children("span").addClass("excluded");if(0<c.length){d=$("<ul></ul>").appendTo(e);for(e=0;e<c.length;e++)this._appendPgTreeNode(c[e],d)}},_updateLayout:function(a){var b=this._conf,c=this._controls,
d,e,f,g,h,j,i,k,l;switch(b.dockTo){case "top":case "bottom":d="left "+b.dockTo;e="100%";f="30px";g='url("styles/toolbar_hor.png") repeat-x';h="right center";j="-5 0";i="right center";k="left center";l="-10 0";c.removeClass("rotate90Degrees");break;case "left":case "right":d=b.dockTo+" top",e="30px",f="100%",g='url("styles/toolbar_vert.png") repeat-y',h="center bottom",j="0 -5",i="center bottom",k="center top",l="0 -10",c.addClass("rotate90Degrees")}this._toolbar.css({width:e,height:f,background:g,
margin:"0px"}).position({my:d,at:d,of:window});this._pinButton.position({my:h,at:h,of:this._toolbar,offset:j});this._dockButtons.position({my:i,at:k,of:this._pinButton,offset:l});a&&this._updateLayout(!1)},_setupBehavior:function(){var a=this._conf,b=this;a.pageButton||this._pageLabel.add(this._prevButton).add(this._pageIndicator).add(this._nextButton).add(this._gotoButton).hide();a.propertyButton||this._propertyButton.hide();a.alignButton||this._alignButton.hide();$(window).bind("scroll resize",
function(){b._updateLayout();b._toolbar.trigger("mouseout")});this._pinButton.click(function(){a.pin=!a.pin;b._pinButton.attr("src","styles/"+(a.pin?"pin.gif":"unpin.gif"))});var c;this._toolbar.mouseover(function(){c&&(clearTimeout(c),c=void 0);b._toolbar.css("margin","0px");b._controls.css("visibility","inherit");switch(a.dockTo){case "bottom":b._toolbar.css("height","30px");break;case "right":b._toolbar.css("width","30px")}}).mouseout(function(){a.pin||(c&&clearTimeout(c),c=setTimeout(function(){switch(a.dockTo){case "top":b._toolbar.animate({marginTop:"-28px"},
1E3);break;case "bottom":b._toolbar.animate({marginTop:"28px",height:"2px"},1E3);break;case "left":b._toolbar.animate({marginLeft:"-28px"},1E3);break;case "right":b._toolbar.animate({marginLeft:"28px",width:"2px"},1E3,function(){b._controls.css("visibility","hidden")})}},2E3))});var d=this._dockButtons.children(".dockButton");d.click(function(){d.removeClass("hlDockButton");$(this).addClass("hlDockButton")});this._dockTop.click(function(){a.dockTo="top";b._updateLayout(!0)});this._dockLeft.click(function(){a.dockTo=
"left";b._updateLayout(!0)});this._dockBottom.click(function(){a.dockTo="bottom";b._updateLayout(!0)});this._dockRight.click(function(){a.dockTo="right";b._updateLayout(!0)});this._prevButton.click(previousPage);this._nextButton.click(nextPage);this._gotoButton.click(function(){b._propertyList.is(":visible")&&b._toggleWindow(b._propertyList,b._propertyButton);b._toggleWindow(b._pageList,b._gotoButton);b._updateLayout()});this._propertyButton.click(function(){b._pageList.is(":visible")&&b._toggleWindow(b._pageList,
b._propertyButton);b._toggleWindow(b._propertyList,b._propertyButton);b._updateLayout()});this._alignButton.click(function(){window.foreui.align="left"==window.foreui.align?"center":"center"==window.foreui.align?"right":"left";$(this).html("Content Align: "+window.foreui.align);$(".page").position({my:window.foreui.align+" top",at:window.foreui.align+" top",of:document}).css("top","0px")});$("body").children(".winFrame").resizable({handles:"all",minWidth:100,minHeight:30}).draggable({handle:".winTitle"}).resize(function(){var a=
$(this);a.children(".winClient").width(a.width()).height(a.height()-30)}).children(".winTitle").children(".winTitleClose").click(function(){$(this).closest(".winFrame").css({visibility:"hidden",display:"none"})})},_toggleWindow:function(a,b){var c=this._conf;a.css("display","hidden"==a.css("visibility")?"block":"none");a.css("visibility","hidden"==a.css("visibility")?"inherit":"hidden");var d=0.8*document.body.clientHeight;a.width(Math.min(400,Math.max(200,a.width()+20)));a.height(Math.min(d,Math.max(200,
a.height()+20)));a.trigger("resize");switch(c.dockTo){case "top":a.position({my:"left top",at:"left bottom",of:b?b:this._toolbar});break;case "bottom":a.position({my:"left bottom",at:"left top",of:b?b:this._toolbar});break;case "left":a.position({my:"left center",at:"right center",of:this._toolbar});break;case "right":a.position({my:"right center",at:"left center",of:this._toolbar})}},_schedulePropertyUpdate:function(a){setInterval(function(){a.is(":visible")&&(a.find(".CURRENT_YEAR").html(getPropertyValue("CURRENT_YEAR")),
a.find(".CURRENT_MONTH").html(getPropertyValue("CURRENT_MONTH")),a.find(".CURRENT_DAY").html(getPropertyValue("CURRENT_DAY")),a.find(".CURRENT_HOURS").html(getPropertyValue("CURRENT_HOURS")),a.find(".CURRENT_MINUTES").html(getPropertyValue("CURRENT_MINUTES")),a.find(".CURRENT_SECONDS").html(getPropertyValue("CURRENT_SECONDS")))},1E3);$(window).resize(function(){a.find(".SCREEN_WIDTH").html(getScreenWidth());a.find(".SCREEN_HEIGHT").html(getScreenHeight())});$(document).mousemove(function(b){a.find(".CURRENT_CURSOR_X").html(b.pageX);
a.find(".CURRENT_CURSOR_Y").html(b.pageY)}).bind("keydown keyup",function(){a.find(".CTRL_KEY_STATE").html(getCtrlKeyState());a.find(".ALT_KEY_STATE").html(getAltKeyState());a.find(".SHIFT_KEY_STATE").html(getShiftKeyState())}).keydown(function(){a.find(".CURRENT_KEY_CODE").html(getCurrentKeyCode())})},onPropertyChanged:function(a,b){var c=$("body").children(".propertyList").find("table");if(0<c.size()){var d=c.find("."+a);0<d.size()?d.html(toJsonString(b)):(c=$("<tr></tr>").appendTo(c),$("<td></td>").append(a).appendTo(c),
$('<td width="50%" class="'+a+'">'+toJsonString(b)+"</td>").appendTo(c))}},updatePageIndicator:function(a,b){$("body").children(".toolbar").find(".pageIndicator").html(a+"/"+b)},updateSelectedPage:function(a){var b=$("body").children(".pageList");b.find("li[type='page'][excluded='false']").css("list-style",'url("styles/page.png")');b.find("li[pageIndex='"+a+"']").css("list-style",'url("styles/page_selected.png")')}};